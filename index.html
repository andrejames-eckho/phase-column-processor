<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Phase Column Processor - Rita Analyzer & Smaart</title>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react/18.2.0/umd/react.production.min.js"></script>
    <script crossorigin src="https://cdnjs.cloudflare.com/ajax/libs/react-dom/18.2.0/umd/react-dom.production.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/babel-standalone/7.23.5/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .brand-logo {
            background-image: url('YOUR_LOGO_URL_HERE.png');
            background-size: contain;
            background-repeat: no-repeat;
            background-position: center;
            width: 150px;
            height: 50px;
        }
        
        :root {
            --brand-primary: #2563eb;
            --brand-secondary: #4f46e5;
            --brand-accent: #06b6d4;
        }
        
        .brand-gradient {
            background: linear-gradient(to right, var(--brand-primary), var(--brand-secondary));
        }
        
        .brand-button {
            background: linear-gradient(to right, var(--brand-primary), var(--brand-secondary));
        }
        
        .brand-button:hover {
            opacity: 0.9;
        }
        
        body {
            margin: 0;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
                'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
                sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect } = React;

        const BRAND_CONFIG = {
            companyName: "Eckho Systems",
            tagline: "Professional Audio Solutions",
            showLogo: false,
            footerText: "Powered by Eckho Systems",
        };

        // Icons
        const Upload = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="17 8 12 3 7 8"></polyline>
                <line x1="12" y1="3" x2="12" y2="15"></line>
            </svg>
        );

        const Download = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"></path>
                <polyline points="7 10 12 15 17 10"></polyline>
                <line x1="12" y1="15" x2="12" y2="3"></line>
            </svg>
        );

        const FileText = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                <polyline points="14 2 14 8 20 8"></polyline>
                <line x1="16" y1="13" x2="8" y2="13"></line>
                <line x1="16" y1="17" x2="8" y2="17"></line>
                <polyline points="10 9 9 9 8 9"></polyline>
            </svg>
        );

        const AlertCircle = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <line x1="12" y1="8" x2="12" y2="12"></line>
                <line x1="12" y1="16" x2="12.01" y2="16"></line>
            </svg>
        );

        const CheckCircle = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"></path>
                <polyline points="22 4 12 14.01 9 11.01"></polyline>
            </svg>
        );

        const Clock = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <circle cx="12" cy="12" r="10"></circle>
                <polyline points="12 6 12 12 16 14"></polyline>
            </svg>
        );

        const Trash2 = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <polyline points="3 6 5 6 21 6"></polyline>
                <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"></path>
                <line x1="10" y1="11" x2="10" y2="17"></line>
                <line x1="14" y1="11" x2="14" y2="17"></line>
            </svg>
        );

        const History = ({ className }) => (
            <svg className={className} xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round">
                <path d="M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8"></path>
                <path d="M3 3v5h5"></path>
                <path d="M12 7v5l4 2"></path>
            </svg>
        );

        function PhaseProcessor() {
            const [file, setFile] = useState(null);
            const [processing, setProcessing] = useState(false);
            const [result, setResult] = useState(null);
            const [error, setError] = useState(null);
            const [useFrequencyRange, setUseFrequencyRange] = useState(false);
            const [minFreq, setMinFreq] = useState('');
            const [maxFreq, setMaxFreq] = useState('');
            const [fileHistory, setFileHistory] = useState([]);
            const [showHistory, setShowHistory] = useState(false);
            const [loadingHistory, setLoadingHistory] = useState(true);

            useEffect(() => {
                loadFileHistory();
            }, []);

            const loadFileHistory = async () => {
                try {
                    setLoadingHistory(true);
                    const result = await window.storage.list('phase_file:');
                    if (result && result.keys) {
                        const historyPromises = result.keys.map(async (key) => {
                            try {
                                const fileData = await window.storage.get(key);
                                if (fileData) {
                                    return JSON.parse(fileData.value);
                                }
                            } catch (err) {
                                console.error('Error loading file:', key, err);
                            }
                            return null;
                        });
                        
                        const history = (await Promise.all(historyPromises))
                            .filter(item => item !== null)
                            .sort((a, b) => b.timestamp - a.timestamp);
                        
                        setFileHistory(history);
                    }
                } catch (err) {
                    console.error('Error loading history:', err);
                    setFileHistory([]);
                } finally {
                    setLoadingHistory(false);
                }
            };

            const saveToHistory = async (fileName, content, freqRange) => {
                try {
                    const timestamp = Date.now();
                    const fileId = `phase_file:${timestamp}`;
                    const fileData = {
                        id: fileId,
                        fileName,
                        content,
                        timestamp,
                        freqRange: freqRange || null,
                        size: content.length
                    };
                    
                    await window.storage.set(fileId, JSON.stringify(fileData));
                    await loadFileHistory();
                } catch (err) {
                    console.error('Error saving to history:', err);
                }
            };

            const deleteFromHistory = async (fileId) => {
                try {
                    await window.storage.delete(fileId);
                    await loadFileHistory();
                } catch (err) {
                    console.error('Error deleting file:', err);
                    alert('Failed to delete file');
                }
            };

            const downloadFromHistory = (historyItem) => {
                const blob = new Blob([historyItem.content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = historyItem.fileName;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const clearAllHistory = async () => {
                if (!confirm('Are you sure you want to delete all saved files? This cannot be undone.')) {
                    return;
                }
                
                try {
                    const deletePromises = fileHistory.map(item => 
                        window.storage.delete(item.id)
                    );
                    await Promise.all(deletePromises);
                    await loadFileHistory();
                } catch (err) {
                    console.error('Error clearing history:', err);
                    alert('Failed to clear history');
                }
            };

            const processFile = async (fileContent, fileName) => {
                try {
                    console.log('Processing file, content length:', fileContent.length);
                    
                    const lines = fileContent.split('\n');
                    const processedLines = [];
                    let phaseColumnIndex = -1;
                    let frequencyColumnIndex = -1;
                    let headerProcessed = false;

                    const minFrequency = useFrequencyRange && minFreq ? parseFloat(minFreq) : null;
                    const maxFrequency = useFrequencyRange && maxFreq ? parseFloat(maxFreq) : null;

                    for (let i = 0; i < lines.length; i++) {
                        const line = lines[i];
                        
                        if (!headerProcessed && line.includes('Phase')) {
                            const columns = line.split(/\t+|\s{2,}/);
                            phaseColumnIndex = columns.findIndex(col => 
                                col.trim().toLowerCase().includes('phase')
                            );
                            frequencyColumnIndex = columns.findIndex(col => {
                                const colName = col.trim().toLowerCase();
                                return colName.includes('freq') || colName.includes('hz') || colName === 'f';
                            });
                            if (frequencyColumnIndex === -1) {
                                frequencyColumnIndex = 0;
                            }
                            headerProcessed = true;
                            processedLines.push(line);
                            console.log('Header found, phase column:', phaseColumnIndex, 'freq column:', frequencyColumnIndex);
                            continue;
                        }

                        if (headerProcessed && phaseColumnIndex !== -1 && line.trim()) {
                            const columns = line.split(/\t+|\s{2,}/);
                            
                            if (columns.length > phaseColumnIndex) {
                                let shouldZeroPhase = true;

                                if (useFrequencyRange && (minFrequency !== null || maxFrequency !== null)) {
                                    const frequency = parseFloat(columns[frequencyColumnIndex]);
                                    
                                    if (!isNaN(frequency)) {
                                        shouldZeroPhase = true;
                                        if (minFrequency !== null && frequency < minFrequency) {
                                            shouldZeroPhase = false;
                                        }
                                        if (maxFrequency !== null && frequency > maxFrequency) {
                                            shouldZeroPhase = false;
                                        }
                                    }
                                }

                                if (shouldZeroPhase) {
                                    columns[phaseColumnIndex] = '0';
                                }
                                processedLines.push(columns.join('\t'));
                            } else {
                                processedLines.push(line);
                            }
                        } else {
                            processedLines.push(line);
                        }
                    }

                    const result = processedLines.join('\n');
                    console.log('Processed content length:', result.length);
                    return result;
                } catch (err) {
                    console.error('Processing error:', err);
                    throw new Error(`Processing failed: ${err.message}`);
                }
            };

            const handleFileUpload = async (event) => {
                const uploadedFile = event.target.files[0];
                if (!uploadedFile) return;

                if (!uploadedFile.name.endsWith('.txt')) {
                    setError('Please upload a .txt file');
                    return;
                }

                setFile(uploadedFile);
                setError(null);
                setResult(null);
                setProcessing(true);

                try {
                    const content = await uploadedFile.text();
                    console.log('File read, length:', content.length);
                    
                    const processedContent = await processFile(content, uploadedFile.name);
                    console.log('File processed, length:', processedContent.length);
                    
                    const fileName = uploadedFile.name.replace('.txt', '_phase0.txt');
                    const freqRange = useFrequencyRange && (minFreq || maxFreq) 
                        ? `${minFreq || '0'} Hz - ${maxFreq || '∞'} Hz`
                        : null;
                    
                    setResult({
                        content: processedContent,
                        fileName: fileName
                    });

                    await saveToHistory(fileName, processedContent, freqRange);
                } catch (err) {
                    console.error('Upload error:', err);
                    setError(err.message);
                } finally {
                    setProcessing(false);
                }
            };

            const downloadProcessedFile = () => {
                if (!result) return;

                console.log('Downloading file, content length:', result.content.length);
                const blob = new Blob([result.content], { type: 'text/plain' });
                const url = URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = result.fileName;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                URL.revokeObjectURL(url);
            };

            const reset = () => {
                setFile(null);
                setResult(null);
                setError(null);
            };

            return (
                <div className="min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 p-6 flex items-center justify-center">
                    <div className="max-w-2xl w-full">
                        {BRAND_CONFIG.showLogo && (
                            <div className="flex justify-center mb-6">
                                <div className="brand-logo"></div>
                            </div>
                        )}
                        
                        <div className="bg-slate-800 rounded-2xl shadow-2xl border border-slate-700 overflow-hidden">
                            <div className="brand-gradient p-6">
                                <div className="flex items-center gap-3">
                                    <FileText className="w-8 h-8 text-white" />
                                    <div>
                                        <h1 className="text-2xl font-bold text-white">
                                            Phase Column Processor
                                        </h1>
                                        <p className="text-blue-100 text-sm mt-1">
                                            {BRAND_CONFIG.tagline}
                                        </p>
                                    </div>
                                </div>
                            </div>

                            <div className="p-8">
                                {!result ? (
                                    <>
                                        <div className="mb-6">
                                            <label
                                                htmlFor="file-upload"
                                                className="flex flex-col items-center justify-center w-full h-64 border-2 border-dashed border-slate-600 rounded-xl cursor-pointer bg-slate-700 hover:bg-slate-650 transition-all duration-200 hover:border-blue-500"
                                            >
                                                <div className="flex flex-col items-center justify-center pt-5 pb-6">
                                                    <Upload className="w-16 h-16 text-slate-400 mb-4" />
                                                    <p className="mb-2 text-lg font-semibold text-slate-300">
                                                        {file ? file.name : 'Click to upload file'}
                                                    </p>
                                                    <p className="text-sm text-slate-400">
                                                        .txt files only
                                                    </p>
                                                </div>
                                                <input
                                                    id="file-upload"
                                                    type="file"
                                                    className="hidden"
                                                    accept=".txt"
                                                    onChange={handleFileUpload}
                                                />
                                            </label>
                                        </div>

                                        <div className="mb-6 p-6 bg-slate-700 rounded-lg border border-slate-600">
                                            <div className="flex items-center gap-3 mb-4">
                                                <input
                                                    type="checkbox"
                                                    id="freq-range-toggle"
                                                    checked={useFrequencyRange}
                                                    onChange={(e) => setUseFrequencyRange(e.target.checked)}
                                                    className="w-4 h-4 rounded border-slate-500 text-blue-500 focus:ring-blue-500 focus:ring-offset-slate-700"
                                                />
                                                <label htmlFor="freq-range-toggle" className="text-slate-200 font-semibold cursor-pointer">
                                                    Apply to specific frequency range only
                                                </label>
                                            </div>
                                            
                                            {useFrequencyRange && (
                                                <div className="grid grid-cols-2 gap-4 mt-4 pl-7">
                                                    <div>
                                                        <label className="block text-sm text-slate-400 mb-2">
                                                            Min Frequency (Hz)
                                                        </label>
                                                        <input
                                                            type="number"
                                                            value={minFreq}
                                                            onChange={(e) => setMinFreq(e.target.value)}
                                                            placeholder="e.g., 100"
                                                            className="w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500"
                                                        />
                                                    </div>
                                                    <div>
                                                        <label className="block text-sm text-slate-400 mb-2">
                                                            Max Frequency (Hz)
                                                        </label>
                                                        <input
                                                            type="number"
                                                            value={maxFreq}
                                                            onChange={(e) => setMaxFreq(e.target.value)}
                                                            placeholder="e.g., 10000"
                                                            className="w-full px-3 py-2 bg-slate-800 border border-slate-600 rounded-lg text-slate-200 placeholder-slate-500 focus:outline-none focus:border-blue-500"
                                                        />
                                                    </div>
                                                </div>
                                            )}
                                            
                                            {useFrequencyRange && (
                                                <p className="text-xs text-slate-400 mt-3 pl-7">
                                                    Leave fields empty to set no limit on that end
                                                </p>
                                            )}
                                        </div>

                                        {processing && (
                                            <div className="flex items-center justify-center gap-3 p-4 bg-blue-900 bg-opacity-30 border border-blue-700 rounded-lg">
                                                <div className="animate-spin rounded-full h-5 w-5 border-b-2 border-blue-400"></div>
                                                <span className="text-blue-300">Processing file...</span>
                                            </div>
                                        )}

                                        {error && (
                                            <div className="flex items-start gap-3 p-4 bg-red-900 bg-opacity-30 border border-red-700 rounded-lg">
                                                <AlertCircle className="w-5 h-5 text-red-400 flex-shrink-0 mt-0.5" />
                                                <div>
                                                    <p className="font-semibold text-red-300">Error</p>
                                                    <p className="text-sm text-red-200">{error}</p>
                                                </div>
                                            </div>
                                        )}

                                        <div className="mt-8 p-6 bg-slate-700 rounded-lg border border-slate-600">
                                            <h3 className="font-semibold text-slate-200 mb-3 flex items-center gap-2">
                                                <FileText className="w-5 h-5 text-blue-400" />
                                                How it works
                                            </h3>
                                            <ul className="space-y-2 text-sm text-slate-300">
                                                <li className="flex items-start gap-2">
                                                    <span className="text-blue-400 font-bold">1.</span>
                                                    Upload your .txt file from Rita Analyzer or Smaart
                                                </li>
                                                <li className="flex items-start gap-2">
                                                    <span className="text-blue-400 font-bold">2.</span>
                                                    Optionally specify a frequency range to process
                                                </li>
                                                <li className="flex items-start gap-2">
                                                    <span className="text-blue-400 font-bold">3.</span>
                                                    All values in the Phase column (within range) will be set to 0
                                                </li>
                                                <li className="flex items-start gap-2">
                                                    <span className="text-blue-400 font-bold">4.</span>
                                                    Download the processed file with the original format preserved
                                                </li>
                                            </ul>
                                        </div>

                                        <div className="mt-8">
                                            <button
                                                onClick={() => setShowHistory(!showHistory)}
                                                className="w-full flex items-center justify-between p-4 bg-slate-700 rounded-lg border border-slate-600 hover:bg-slate-650 transition-all duration-200"
                                            >
                                                <div className="flex items-center gap-2">
                                                    <History className="w-5 h-5 text-blue-400" />
                                                    <span className="font-semibold text-slate-200">
                                                        Previously Converted Files
                                                    </span>
                                                    {fileHistory.length > 0 && (
                                                        <span className="px-2 py-0.5 bg-blue-600 text-white text-xs rounded-full">
                                                            {fileHistory.length}
                                                        </span>
                                                    )}
                                                </div>
                                                <svg
                                                    className={`w-5 h-5 text-slate-400 transition-transform duration-200 ${showHistory ? 'rotate-180' : ''}`}
                                                    fill="none"
                                                    stroke="currentColor"
                                                    viewBox="0 0 24 24"
                                                >
                                                    <path strokeLinecap="round" strokeLinejoin="round" strokeWidth={2} d="M19 9l-7 7-7-7" />
                                                </svg>
                                            </button>

                                            {showHistory && (
                                                <div className="mt-4 p-4 bg-slate-700 rounded-lg border border-slate-600">
                                                    {loadingHistory ? (
                                                        <div className="flex items-center justify-center py-8">
                                                            <div className="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400"></div>
                                                        </div>
                                                    ) : fileHistory.length === 0 ? (
                                                        <div className="text-center py-8 text-slate-400">
                                                            <History className="w-12 h-12 mx-auto mb-3 opacity-50" />
                                                            <p>No files saved yet</p>
                                                            <p className="text-sm mt-1">Processed files will appear here</p>
                                                        </div>
                                                    ) : (
                                                        <>
                                                            <div className="flex items-center justify-between mb-4">
                                                                <p className="text-sm text-slate-400">
                                                                    {fileHistory.length} file{fileHistory.length !== 1 ? 's' : ''} saved
                                                                </p>
                                                                <button
                                                                    onClick={clearAllHistory}
                                                                    className="text-xs text-red-400 hover:text-red-300 flex items-center gap-1"
                                                                >
                                                                    <Trash2 className="w-3 h-3" />
                                                                    Clear All
                                                                </button>
                                                            </div>
                                                            <div className="space-y-2 max-h-96 overflow-y-auto">
                                                                {fileHistory.map((item) => (
                                                                    <div
                                                                        key={item.id}
                                                                        className="flex items-center justify-between p-3 bg-slate-800 rounded-lg border border-slate-600 hover:border-slate-500 transition-all duration-200"
                                                                    >
                                                                        <div className="flex-1 min-w-0 mr-3">
                                                                            <p className="text-sm font-medium text-slate-200 truncate">
                                                                                {item.fileName}
                                                                            </p>
                                                                            <div className="flex items-center gap-3 mt-1">
                                                                                <span className="flex items-center gap-1 text-xs text-slate-400">
                                                                                    <Clock className="w-3 h-3" />
                                                                                    {new Date(item.timestamp).toLocaleString()}
                                                                                </span>
                                                                                {item.freqRange && (
                                                                                    <span className="text-xs text-blue-400">
                                                                                        {item.freqRange}
                                                                                    </span>
                                                                                )}
                                                                                <span className="text-xs text-slate-500">
                                                                                    ({(item.size / 1024).toFixed(1)} KB)
                                                                                </span>
                                                                            </div>
                                                                        </div>
                                                                        <div className="flex items-center gap-2">
                                                                            <button
                                                                                onClick={() => downloadFromHistory(item)}
                                                                                className="p-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg transition-all duration-200"
                                                                                title="Download"
                                                                            >
                                                                                <Download className="w-4 h-4" />
                                                                            </button>
                                                                            <button
                                                                                onClick={() => deleteFromHistory(item.id)}
                                                                                className="p-2 bg-red-600 hover:bg-red-500 text-white rounded-lg transition-all duration-200"
                                                                                title="Delete"
                                                                            >
                                                                                <Trash2 className="w-4 h-4" />
                                                                            </button>
                                                                        </div>
                                                                    </div>
                                                                ))}
                                                            </div>
                                                        </>
                                                    )}
                                                </div>
                                            )}
                                        </div>
                                    </>
                                ) : (
                                    <>
                                        <div className="mb-6 flex items-start gap-3 p-4 bg-green-900 bg-opacity-30 border border-green-700 rounded-lg">
                                            <CheckCircle className="w-5 h-5 text-green-400 flex-shrink-0 mt-0.5" />
                                            <div className="flex-1">
                                                <p className="font-semibold text-green-300">
                                                    File processed successfully!
                                                </p>
                                                <p className="text-sm text-green-200 mt-1">
                                                    {useFrequencyRange && (minFreq || maxFreq) 
                                                        ? `Phase column zeroed for ${minFreq || '0'} Hz to ${maxFreq || '∞'} Hz`
                                                        : 'All Phase column values have been set to 0'
                                                    }
                                                </p>
                                            </div>
                                        </div>

                                        <div className="flex gap-3">
                                            <button
                                                onClick={downloadProcessedFile}
                                                className="brand-button flex-1 flex items-center justify-center gap-2 text-white py-3 px-6 rounded-lg font-semibold transition-all duration-200 shadow-lg hover:shadow-xl"
                                            >
                                                <Download className="w-5 h-5" />
                                                Download Processed File
                                            </button>
                                            <button
                                                onClick={reset}
                                                className="px-6 py-3 bg-slate-700 text-slate-300 rounded-lg font-semibold hover:bg-slate-600 transition-all duration-200 border border-slate-600"
                                            >
                                                Process Another
                                            </button>
                                        </div>

                                        <div className="mt-6 p-4 bg-slate-700 rounded-lg border border-slate-600">
                                            <p className="text-sm text-slate-400 mb-1">Output filename:</p>
                                            <p className="text-slate-200 font-mono text-sm">{result.fileName}</p>
                                            <p className="text-xs text-slate-500 mt-2">
                                                Content size: {(result.content.length / 1024).toFixed(1)} KB
                                            </p>
                                        </div>
                                    </>
                                )}
                            </div>
                        </div>

                        <div className="text-center mt-6">
                            <p className="text-slate-400 text-sm">
                                Compatible with Rita Analyzer and Smaart
                            </p>
                            <p className="text-slate-500 text-xs mt-2">
                                {BRAND_CONFIG.footerText}
                            </p>
                        </div>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<PhaseProcessor />, document.getElementById('root'));
    </script>
</body>
</html>